<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>分類</title>

    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/productCss.css" />
    <!-- 匯入font的icon -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <!-- 跟fetch有關 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  </head>
  <body>
    <div class="row container">
      <div class="col-md-12">
        

        <div class="row">
          <!-- 這串是分類 -->
          <div class="col-md-2">
            <div id="pubBC">
              <h4 v-on:click="showPub" class="cat">
                出版類型
                <i v-if="isVisible==true" class="fa-solid fa-chevron-down"></i>
                <i v-else class="fa-solid fa-chevron-up"></i>
              </h4>

              <ul>
                <li v-for="pub in pubType" v-show="isVisible" class="subA">
                  <a href="">{{pub.name}}</a>
                </li>
              </ul>
            </div>

            <hr />
            <h3>分類</h3>
            <div id="bookSC">
              <!-- 書分類大標題 -->
              <ul class="nav flex-column" v-for="item in bookItems">
                <li
                  class="cat"
                  v-bind:class="{'select':BkBigCat === item}"
                  v-on:click="BkBigCat=item"
                >
                  {{item}}
                  <i class="fa-solid fa-plus"></i>
                </li>
                <!-- 書的分類細項 -->
                <ul v-show="BkBigCat ===item">
                  <li v-for="bk in BkSubCat" v-show="bk.type==BkBigCat">
                    <a v-bind:href="bk.url" class="subA">{{bk.name}}</a>
                  </li>
                </ul>
              </ul>
            </div>
          </div>

          <!-- 切版10，商品圖 -->
          <div class="col-md-10">
            <!-- 輪播 -->
            <div class="carousel slide" id="carousel-84227">
              <ol class="carousel-indicators">
                <li data-slide-to="0" 
                data-target="#carousel-84227"
                class="active"></li>
                <li data-slide-to="1"
                data-target="#carousel-84227"></li>
                <li data-slide-to="2" 
                data-target="#carousel-84227"></li>
              </ol>
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img
                    class="d-block w-100"
                    alt="Carousel Bootstrap First"
                    src="https://images.plurk.com/1l6lOvPL96QyQhUcggTNB8.jpg "
                  />
                  <div class="carousel-caption">
                    <h4>全站優惠</h4>
                    <p>5/10起~6/2日買小說即送《棲遲書屋》官方書籤！</p>
                  </div>
                </div>
                <!-- 第二張圖 -->
                 <div class="carousel-item">
                  <img
                    class="d-block w-100"
                    alt="Carousel Bootstrap First"
                    src="https://images.plurk.com/1l6lOvPL96QyQhUcggTNB8.jpg "
                  />
                  <div class="carousel-caption">
                    <h4>限定折扣</h4>
                    <p>暢銷小說限時5折！抓住機會讓你的書架更精彩！</p>
                  </div>
                </div>
                <!-- 第三張圖 -->
                 <div class="carousel-item">
                  <img
                    class="d-block w-100"
                    alt="Carousel Bootstrap First"
                    src="https://images.plurk.com/1l6lOvPL96QyQhUcggTNB8.jpg "
                  />
                  <div class="carousel-caption">
                    <h4>專題推薦</h4>
                    <p>探索《棲遲書屋》中國小說專題，品味歷史、武俠與奇幻的經典之作！</p>
                  </div>
                </div>
              </div>
              <a
                class="carousel-control-prev"
                href="#carousel-84227"
                data-slide="prev"
                ><span class="carousel-control-prev-icon"></span>
                <span class="sr-only">Previous</span></a
              >
              <a
                class="carousel-control-next"
                href="#carousel-84227"
                data-slide="next"
                ><span class="carousel-control-next-icon"></span>
                <span class="sr-only">Next</span></a
              >
            </div>

            <!-- 跑馬燈 -->
            <div class="marquee">
              <div class="scroll">
                <!-- 第一個 -->
                <div class="mqItem first">
                  <span>棲遲書屋</span> <span>小說專區</span
                  ><i class="fa-solid fa-book-open"></i><span>棲遲書屋</span>
                  <span>小說專區</span><i class="fa-solid fa-book-open"></i>
                </div>
                <!-- 第二個mqItem_做偏移 -->
                <div class="mqItem second">
                  <span>棲遲書屋</span> <span>小說專區</span
                  ><i class="fa-solid fa-book-open"></i><span>棲遲書屋</span>
                  <span>小說專區</span><i class="fa-solid fa-book-open"></i>
                </div>
              </div>
            </div>
            <!-- 跑馬燈結束 -->

            <!-- 條列化商品 -->
            <div id="app">
              <div class="row smProduct" v-if="novels.length>0">
                <!-- 單個商品圖版型 -->

                <div class="col3" v-for="n in novels" v-bind:key="n.ISBN">
                  <a v-bind:href="n.url||'#'">
                    <div class="container-fluid">
                      <!-- 注意圖片網址要綁data-src ，原本是v-bind:src="n.imgUrl"-->
                      <img v-bind:data-src="n.imgUrl"
                      src=""  
                      alt="n.name" />
                    </div>
                    <!-- 若書名超過15則會... -->
                    <div v-if="n.name.length>15">
                      <h4><span>{{n.name.slice(0,15)}}...</span></h4>
                    </div>
                    <div v-else>
                      <h4><span>{{n.name}}</span></h4>
                    </div>
                  </a>
                  <a href="#" class="authorColor">
                    <!-- 若作者超過20就:用三元運算寫 -->
                    {{ n.author.length>17 ? n.author.slice(0, 17)+'...' :
                    n.author }}
                  </a>
                  <div class="PandChartBtn">
                    <i
                      ><h3><small>$</small>{{n.price}}</h3></i
                    ><button>加入購物車</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- 切版10結束 -->
          </div>
        </div>
      </div>
    </div>

    <!-- js -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <!-- vue -->
    <!-- Vue 2 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
    <script src="js/bookSub.js"></script>
    <script src="js/getAllBooksVue_csv.js"></script>
    <script>
     
    </script>
  </body>
</html>
