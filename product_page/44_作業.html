<!--
https://data.gov.tw/dataset/101813
臺南市噪音監測站監測數據
本資料集提供臺南市噪音監測站監測數據資料。

用表格呈現

-->

<!DOCTYPE html>
<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    let url1 = "https://soa.tainan.gov.tw/Api/Service/Get/c907df5c-d78b-4aa1-b5d4-f44fa712ab8e";
    $(document).ready(function () {              // load 網頁資料下載後結束後會執行
      $("#button1").click(function () {          // #button1 按下後 的反應 
        // 打開 demo_test.txt 把內容 #div1
        $.get(url1, function (data2, status) {
          console.log("Data: " + data2 + "\nStatus: " + status);
          // 字串轉json
          let str1 = JSON.stringify(data2);
          // $("#div1").text(str1);
          console.log(data2);
          // 抓到值後將資料傳到表格
          // 先抓每一個
          // let count4 =json2.result.results[2]["序號（排序）"];
          console.log(data2["data"][1]);

          let a = data2["data"][1]["夜"];
          console.log(a);
          let len = data2["data"].length;
          console.log(len);

          // 迴圈處理值
          for (i = 0; i < len; i++) {
            let a_1=data2["data"][i]["Seq"];
            let a_2=data2["data"][i]["夜"];
            let a_3=data2["data"][i]["夜間標準值"];
            let a_4=data2["data"][i]["日"];
            let a_5=data2["data"][i]["日間標準值"];
            let a_6=data2["data"][i]["早晚標準值"];
            let a_7=data2["data"][i]["測站名稱"];
            let a_8=data2["data"][i]["測站編號"];
            let a_9=data2["data"][i]["監測日期"];
            let a_10=data2["data"][i]["管制區"];
            let a_11=data2["data"][i]["音源別"];


            let html1 = `<tr> 
        <td>`+ a_1 + `</td>
        <td>`+ a_2 + `</td>
        <td>`+ a_3 + `</td>
        <td>`+ a_4 + `</td>
        <td>`+ a_5 + `</td>
        <td>`+ a_6 + `</td>
        <td>`+ a_7 + `</td>
        <td>`+ a_8 + `</td>
        <td>`+ a_9 + `</td>
        <td>`+ a_10 + `</td>
        <td>`+ a_11 + `</td> 
        </tr> `;
        // 添加值
            $("#tbody1").append(html1);
          }









          /*放入值
             let html1=`<tr> 
                            <td>`+email+`</td>
                            <td>`+info+`</td> 
                            <td><button type="button" class="btn btn-danger del" > 刪除</button>  </td> 
                         </tr> `;
              //alert(html1);
              // 將內容加在h1 的裡面
              $("#tbody1").append(html1);    
              fun_點選表格();
              fun_處理刪除的按鈕();
          
          */





        });









      });



    });
  </script>
</head>

<body>



  <div id="div1">
    <h2>Let jQuery AJAX Change This Text</h2>
  </div>

  <button id="button1"> 按鈕一</button>
  <!-- 表格欄位
Seq
: 
2
夜
: 
"57.6"
夜間標準值
: 
"67"
日
: 
"62.8"
日間標準值
: 
"74"
早晚標準值
: 
"70"
晚
: 
"61.4"
測站名稱
: 
"成功大學"
測站編號
: 
"3532720TN028"
監測日期
: 
"1131024"
管制區
: 
"2"
音源別
: 
"道路交通" 
-->
  <div class="container-fluid">
    <h2>bootstrap Table</h2>
    <table class="table table-dark">
      <thead>
        <tr>
          <th>Seq</th>
          <th>夜</th>
          <th>夜間標準值</th>
          <th>日</th>
          <th>日間標準值</th>
          <th>早晚標準值</th>
          <th>測站名稱</th>
          <th>測站編號</th>
          <th>監測日期</th>
          <th>管制區
          </th>
          <th>音源別</th>

        </tr>
      </thead>
      <tbody id="tbody1">
        <tr>
          <td>1</td>
          <td>2</td>
          <td>3</td>
          <td>4</td>
          <td>5</td>
          <td>6</td>
          <td>7</td>
          <td>8</td>
          <td>9</td>
          <td>10</td>
          <td>11</td>
        </tr>

      </tbody>
    </table>



</body>

</html>