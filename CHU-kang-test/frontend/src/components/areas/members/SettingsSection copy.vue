<template>
	<!-- å€å¡Šï¼šå€‹äººè¨­å®šï¼å§‹ -->
	<div class="selectContent" id="settings" style="display: none;">
		<!-- ğŸŒˆ å€‹äººåŒ–è¨­å®š -->
		<section class="mb-4">
			<h5>å€‹äººåŒ–è¨­å®š</h5>
			<div class="soild"></div>
			<!-- <div class="form-check form-switch">
									<input class="form-check-input" type="checkbox" id="darkModeToggle">
									<label class="form-check-label" for="darkModeToggle">æ·±è‰²æ¨¡å¼</label>
								</div> -->
			<div class="inp_modle mt-2">
				<label class="form-label">ä¸»é¡Œé¢¨æ ¼</label>
				<!-- BS5æ¨£å¼ -->
				<select id="themeSelector" class="form-select">
					<option value="default" selected>ç¶“å…¸é‡‘è™¹</option>
					<option value="ocean">æµ·é’åµï¼ˆæ¸¬è©¦ä¸»é¡Œï¼‰</option>
					<option value="dark">å¢¨éŸ»é»‘ï¼ˆæ¸¬è©¦ä¸»é¡Œï¼‰</option>
				</select>
			</div>
		</section>

		<!-- å€‹äººè³‡æ–™ç®¡ç† -->
		<section id="infoSection" class="mb-4 edit-section">
			<h5>å€‹äººè³‡æ–™ç®¡ç†</h5>
			<div class="soild"></div>
			<div class="inp_modle">
				<label>æš±ç¨±</label>
				<input type="text" value="é•·å®‰ä¸å•" class="edit-input" style="display:none;">
				<p class="display-text">é•·å®‰ä¸å•</p>
			</div>
			<div class="inp_modle">
				<label class="form-label">æ€§åˆ¥</label>
				<select class="edit-input form-select" style="display:none;">
					<option>ç”·æ€§</option>
					<option>å¥³æ€§</option>
					<option>éš±è—</option>
				</select>
				<p class="display-text">ç”·æ€§</p>
			</div>
			<div class="inp_modle">
				<label class="form-label">ç”Ÿæ—¥</label>
				<input type="date" value="2000-01-01" class="edit-input" style="display:none;">
				<p class="display-text">2000-01-01</p>
			</div>
			<div class="inp_modle">
				<label class="form-label">å€‹äººç°¡ä»‹</label>
				<textarea class="edit-input"
					style="display:none; resize: none;">å¤©åœ°ç„é»ƒï¼Œå®‡å®™æ´ªè’ã€‚æ—¥æœˆç›ˆæ˜ƒï¼Œè¾°å®¿åˆ—å¼µã€‚å¯’ä¾†æš‘å¾€ï¼Œç§‹æ”¶å†¬è—ã€‚é–é¤˜æˆæ­²ï¼Œå¾‹å¬èª¿é™½ã€‚é›²é¨°è‡´é›¨ï¼Œéœ²çµç‚ºéœœã€‚é‡‘ç”Ÿéº—æ°´ï¼Œç‰å‡ºå´‘å²¡ã€‚åŠè™Ÿå·¨é—•ï¼Œç ç¨±å¤œå…‰ã€‚æœçææŸ°ï¼Œèœé‡èŠ¥è–‘ã€‚æµ·é¹¹æ²³æ·¡ï¼Œé±—æ½›ç¾½ç¿”ã€‚é¾å¸«ç«å¸ï¼Œé³¥å®˜äººçš‡ã€‚å§‹åˆ¶æ–‡å­—ï¼Œä¹ƒæœè¡£è£³ã€‚æ¨ä½è®“åœ‹ï¼Œæœ‰è™é™¶å”ã€‚å¼”æ°‘ä¼ç½ªï¼Œå‘¨ç™¼æ®·æ¹¯ã€‚åæœå•é“ï¼Œå‚æ‹±å¹³ç« ã€‚æ„›è‚²é»é¦–ï¼Œè‡£ä¼æˆç¾Œã€‚éé‚‡ä¸€é«”ï¼Œç‡è³“æ­¸ç‹ã€‚é³´é³³åœ¨æ¨¹ï¼Œç™½é§’é£Ÿå ´ã€‚åŒ–è¢«è‰æœ¨ï¼Œè³´åŠè¬æ–¹ã€‚è“‹æ­¤èº«é«®ï¼Œå››å¤§äº”å¸¸ã€‚æ­æƒŸé é¤Šï¼Œè±ˆæ•¢æ¯€å‚·ã€‚å¥³æ…•è²çµœï¼Œç”·æ•ˆæ‰è‰¯ã€‚çŸ¥éå¿…æ”¹ï¼Œå¾—èƒ½è«å¿˜ã€‚ç½”è«‡å½¼çŸ­ï¼Œé¡æƒå·±é•·ã€‚ä¿¡ä½¿å¯è¦†ï¼Œå™¨æ¬²é›£é‡ã€‚å¢¨æ‚²çµ²æ·¬ï¼Œè©©è®šç¾”ç¾Šã€‚</textarea>
				<p class="display-text  text-truncate">
					æˆ–è€…ç›´æ¥åœ¨ä¸Šé¢æ”¹ã€‚å¤©åœ°ç„é»ƒï¼Œå®‡å®™æ´ªè’ã€‚æ—¥æœˆç›ˆæ˜ƒï¼Œè¾°å®¿åˆ—å¼µã€‚å¯’ä¾†æš‘å¾€ï¼Œç§‹æ”¶å†¬è—ã€‚é–é¤˜æˆæ­²ï¼Œå¾‹å¬èª¿é™½ã€‚é›²é¨°è‡´é›¨ï¼Œéœ²çµç‚ºéœœã€‚é‡‘ç”Ÿéº—æ°´ï¼Œç‰å‡ºå´‘å²¡ã€‚åŠè™Ÿå·¨é—•ï¼Œç ç¨±å¤œå…‰ã€‚æœçææŸ°ï¼Œèœé‡èŠ¥è–‘ã€‚æµ·é¹¹æ²³æ·¡ï¼Œé±—æ½›ç¾½ç¿”ã€‚é¾å¸«ç«å¸ï¼Œé³¥å®˜äººçš‡ã€‚å§‹åˆ¶æ–‡å­—ï¼Œä¹ƒæœè¡£è£³ã€‚æ¨ä½è®“åœ‹ï¼Œæœ‰è™é™¶å”ã€‚å¼”æ°‘ä¼ç½ªï¼Œå‘¨ç™¼æ®·æ¹¯ã€‚åæœå•é“ï¼Œå‚æ‹±å¹³ç« ã€‚æ„›è‚²é»é¦–ï¼Œè‡£ä¼æˆç¾Œã€‚éé‚‡ä¸€é«”ï¼Œç‡è³“æ­¸ç‹ã€‚é³´é³³åœ¨æ¨¹ï¼Œç™½é§’é£Ÿå ´ã€‚åŒ–è¢«è‰æœ¨ï¼Œè³´åŠè¬æ–¹ã€‚è“‹æ­¤èº«é«®ï¼Œå››å¤§äº”å¸¸ã€‚æ­æƒŸé é¤Šï¼Œè±ˆæ•¢æ¯€å‚·ã€‚å¥³æ…•è²çµœï¼Œç”·æ•ˆæ‰è‰¯ã€‚çŸ¥éå¿…æ”¹ï¼Œå¾—èƒ½è«å¿˜ã€‚ç½”è«‡å½¼çŸ­ï¼Œé¡æƒå·±é•·ã€‚ä¿¡ä½¿å¯è¦†ï¼Œå™¨æ¬²é›£é‡ã€‚å¢¨æ‚²çµ²æ·¬ï¼Œè©©è®šç¾”ç¾Šã€‚
				</p>
			</div>

			<button id="toggleEditBtn" data-edit-text="ä¿®æ”¹å€‹äººè³‡è¨Š"
				class="btn btn-sm btn-outline-primary mt-2">ä¿®æ”¹å€‹äººè³‡è¨Š</button>
		</section>

		<!-- ğŸ“± è¯ç¹«æ–¹å¼ -->
		<section id="contactSection" class="mb-4 edit-section">
			<h5 class="mb-3">è¯ç¹«æ–¹å¼</h5>
			<div class="soild"></div>

			<div class="inp_modle towline">
				<div class="label-badge">
					<label>é›»å­ä¿¡ç®±</label>
					<span class="badge bg-success">å·²é©—è­‰</span>
				</div>
				<div class="d-flex align-items-center w-100">
					<input type="email" value="user@example.com" class="edit-input" style="display:none;">
					<p class="display-text">user@example.com</p>
					<!-- <button
											class="display-text btn btn-sm btn-outline-secondary ms-2">å¯„é€é©—è­‰ä¿¡</button> -->
				</div>
			</div>

			<div class="inp_modle towline">
				<div class="label-badge">
					<label>æ‰‹æ©Ÿè™Ÿç¢¼</label>
					<span class="badge bg-warning text-dark">æœªé©—è­‰</span>
				</div>
				<div class="d-flex align-items-center w-100">
					<input type="text" value="0912345678" class="edit-input" style="display:none;">
					<p class="display-text">0912345678</p>
					<button class="display-text btn btn-sm btn-outline-success ms-2">å¯„é€é©—è­‰ä¿¡</button>
				</div>
			</div>

			<div class="inp_modle towline">
				<div class="label-badge">
					<label>é€šè¨Šåœ°å€</label>
				</div>
				<div class="d-flex align-items-center w-100">
					<input type="text" value="320æ¡ƒåœ’å¸‚ä¸­å£¢å€å¥è¡Œè·¯229è™Ÿ" class="edit-input" style="display:none;">
					
					<!-- åˆ†é›¢å¼è¼¸å…¥(ç›®å‰å¤±æ•—) -->
					<!-- <div id="address" class="edit-input" style="display:none;">
						<div class="row mt-2 g-2">
<div class="col-12 col-md-4 d-flex align-items-center">
  <span for="county" class="mb-0" style="white-space: nowrap;">ç¸£å¸‚</span>
  <input type="text" id="county" class="form-control" placeholder="å¦‚ï¼šæ¡ƒåœ’å¸‚" v-model="addressData.county">
</div>

<div class="col-12 col-md-4 d-flex align-items-center">
  <span for="district" class="form-label">é„‰é®å¸‚å€</span>
  <input type="text" id="district" class="form-control" placeholder="å¦‚ï¼šä¸­å£¢å€" v-model="addressData.district">
</div>

<div class="col-12 col-md-4 d-flex align-items-center">
  <span for="street" class="form-label">è·¯è¡—åç¨±</span>
  <input type="text" id="street" class="form-control" placeholder="å¦‚ï¼šå¥è¡Œè·¯" v-model="addressData.street">
</div>

<div class="col-12 col-md-4 d-flex align-items-center">
  <span for="lane" class="form-label">å··å¼„</span>
  <input type="text" id="lane" class="form-control" placeholder="å¦‚ï¼š12å··3å¼„" v-model="addressData.lane">
</div>

<div class="col-12 col-md-6 d-flex align-items-center">
  <span for="number" class="form-label">é–€ç‰Œè™Ÿç¢¼</span>
  <input type="text" id="number" class="form-control" placeholder="å¦‚ï¼š229è™Ÿ" v-model="addressData.number">
</div>

<div class="col-12 col-md-2 d-flex align-items-center">
  <span for="zip" class="form-label">éƒµéå€è™Ÿ</span>
  <input type="text" id="zip" class="form-control" placeholder="å¦‚ï¼š320" v-model="addressData.zip">
</div>
						</div>
					</div> -->
					<p class="display-text">320æ¡ƒåœ’å¸‚ä¸­å£¢å€å¥è¡Œè·¯229è™Ÿ</p>
				</div>
			</div>


			<button id="toggleContactEditBtn" data-edit-text="ä¿®æ”¹è¯ç¹«æ–¹å¼"
				class="btn btn-sm btn-outline-primary mt-2">ä¿®æ”¹è¯ç¹«æ–¹å¼</button>
		</section>

		<!-- ğŸ” éš±ç§èˆ‡å®‰å…¨æ€§ -->
		<section class="mb-4">
			<h5>éš±ç§èˆ‡å®‰å…¨æ€§</h5>
			<div class="soild"></div>

			<div id="accountSection" class="inp_modle towline edit-section">
				<label class="form-label">å¸³è™Ÿ</label>
				<div class="d-flex align-items-center w-100">
					<input type="email" value="myusername" class="edit-input" style="display:none;">
					<p class="display-text">myusername</p>
					<button id="toggleAccountEditBtn" class="btn btn-sm btn-outline-primary ms-2"
						data-edit-text="ä¿®æ”¹å¸³è™Ÿ">ä¿®æ”¹å¸³è™Ÿ</button>
				</div>
			</div>

			<div id="passwordSection" class="inp_modle towline edit-section">
				<label class="form-label">å¯†ç¢¼</label>
				<div class="d-flex align-items-center w-100">
					<input type="email" value="a***************a" class="edit-input" style="display:none;">
					<p class="display-text">a***************a</p>
					<button id="togglePasswordEditBtn" class="btn btn-sm btn-outline-primary ms-2"
						data-edit-text="ä¿®æ”¹å¯†ç¢¼">ä¿®æ”¹å¯†ç¢¼</button>
				</div>
			</div>

			<div class="d-flex justify-content-end mt-5">
				<button class="btn btn-outline-dark">å¸³è™Ÿç™»å‡º</button>
				<button class="btn btn-danger">åˆªé™¤å¸³è™Ÿ</button>è¦æœ‰æµ®çª—è¼¸å…¥DELETEæ‰èƒ½åˆªé™¤
			</div>
		</section>
	</div>
</template>

<script>
export default {
	name: "SettingsSection",
	data() {
  return {
	info: {
        nickname: 'é•·å®‰ä¸å•',
        gender: 'ç”·æ€§',
        birthday: '2000-01-01',
        intro: 'å¤©åœ°ç„é»ƒï¼Œå®‡å®™æ´ªè’...',
      },
    
	contact: {
        email: 'user@example.com',
        phone: '0912345678',
		addressData: {
			county: "æ¡ƒåœ’å¸‚",
			district: "ä¸­å£¢å€",
			street: "å¥è¡Œè·¯",
			lane: "12å··3å¼„",
			number: "229è™Ÿ",
			zip: "320"
		},
      },
  };
},
// computed: {
//   fullAddress() {
//     const { county, district, street, lane, number, zip } = this.addressData;
//     // å…ˆæª¢æŸ¥æ¯å€‹æ¬„ä½æ˜¯å¦æœ‰å¡«ï¼Œé¿å…ç©ºå€¼ç”¢ç”Ÿå¤šé¤˜ç©ºæ ¼
//     return [zip, county, district, street, lane, number]
//       .filter(part => part && part.trim() !== '')
//       .join('');
//   }
// },
	mounted() {
		// åˆå§‹åŒ–ç·¨è¼¯æ§åˆ¶å€å¡Š
		this.setupToggleEdit("infoSection", "toggleEditBtn", "overlay");
		this.setupToggleEdit("contactSection", "toggleContactEditBtn", "overlay");
		this.setupToggleEdit("accountSection", "toggleAccountEditBtn", "overlay");
		this.setupToggleEdit("passwordSection", "togglePasswordEditBtn", "overlay");

		// åˆå§‹åŒ–ä¸»é¡Œè¨­å®š
		this.setupThemeSelector();
	},
	methods: {
	// ç·¨è¼¯é …ç›®
		setupToggleEdit(sectionId, toggleBtnId, overlayId = null) {
			const section = document.getElementById(sectionId);
			const toggleBtn = document.getElementById(toggleBtnId);
			const overlay = overlayId ? document.getElementById(overlayId) : null;

			const inputs = section.querySelectorAll(".edit-input");
			const texts = section.querySelectorAll(".display-text");

			let isEditing = false;

			toggleBtn.addEventListener("click", () => {
				isEditing = !isEditing;

				inputs.forEach((input) => {
					input.style.display = isEditing ? "block" : "none";
					if (!isEditing) {
						// æˆ–è¨±æŠŠé€™å€‹æ›æ‰å°±å¯ä»¥åœ¨inp_modelä¸‹æŠ“å¤šå€‹è¼¸å…¥æ¡†
						const p = input.nextElementSibling;
						if (p) {
							if (input.tagName === "SELECT") {
								p.textContent = input.options[input.selectedIndex].text;
							} else {
								p.textContent = input.value;
							}
						}
					}
				});

				texts.forEach((p) => {
					p.style.display = isEditing ? "none" : "block";
				});

				toggleBtn.textContent = isEditing
					? "å®Œæˆä¿®æ”¹"
					: toggleBtn.getAttribute("data-edit-text");
				toggleBtn.classList.toggle("btn-outline-primary", !isEditing);
				toggleBtn.classList.toggle("btn-primary", isEditing);

				if (overlay) {
					overlay.style.display = isEditing ? "block" : "none";
				}

				section.classList.toggle("editing", isEditing);
			});
		},
		setupThemeSelector() {
			const themeSelector = document.getElementById("themeSelector");

			// å¥—ç”¨å·²å„²å­˜çš„ä¸»é¡Œ
			const savedTheme = localStorage.getItem("theme");
			if (savedTheme) {
				document.documentElement.setAttribute("data-theme", savedTheme);
				themeSelector.value = savedTheme;
			}

			// ä½¿ç”¨è€…åˆ‡æ›ä¸»é¡Œæ™‚å„²å­˜
			themeSelector.addEventListener("change", function () {
				const selected = this.value;

				if (selected === "default") {
					document.documentElement.removeAttribute("data-theme");
					localStorage.removeItem("theme");
				} else {
					document.documentElement.setAttribute("data-theme", selected);
					localStorage.setItem("theme", selected);
				}
			});
		},
	},
};
</script>

<style scoped>
/* è³‡è¨Šç®¡ç† */
#settings {

	/* ç•™å‡ºå·¦å³ç©ºç™½ */
	section {
		padding: 0 30px;
	}

	/* å°å€æ¨™é¡Œ */
	h5 {
		margin: 0;
		font-size: 28px;
		font-family: "ç‹ç¿°å®—ç²—é‹¼é«”";
		color: var(--main-color);
	}

	.soild {
		margin: 10px 0;
		height: 2px;
		background-color: var(--main-color);
	}

	/* å„é …è³‡æ–™é¡¯ç¤ºä¿®æ”¹å€ */
	.inp_modle {
		display: flex;
		align-items: center;
		margin-bottom: 10px;

		/* å·¦é‚Šåç¨± */
		label {
			/* ä¸å…è¨±ç¸®å° */
			flex-shrink: 0;
			margin: 0;
			width: 118px;
			height: 40px;
			font-size: 22px;
			font-family: "ç‹ç¿°å®—é¡æ¥·é«”";
			color: var(--second-color);
			line-height: 40px;
		}

		/* å³é‚Šå…§å®¹ */
		p {
			height: 40px;
			font-size: 22px;
			font-family: initial;
			color: var(--second-text-color);
			line-height: 40px;
		}

		/* è¼¸å…¥æ¡†é«˜åº¦ */
		input,
		select {
			height: 40px;
		}

		/* å€‹äººç°¡ä»‹ */
		textarea {
			align-items: start;
			height: 100px;
		}

		/* ç´°èª¿ä¸‹æ‹‰å¼æ–‡å­—ä½ç½® */
		select {
			padding-left: 5px;
		}

	}

	/* å„é …è³‡æ–™é¡¯ç¤ºä¿®æ”¹å€ï¼å…©è¡Œå¼ */
	.inp_modle.towline {
		flex-direction: column;
		align-items: flex-start;

		/* ä¸Šæ–¹æ–‡å­—è¡Œ */
		.label-badge {
			display: flex;
			align-items: center;
		}

		input,
		p {
			width: 100%;
		}

		button {
			width: 120px;
		}
	}

	/* æ¸…é™¤ .form-select çš„åœ“è§’å’Œ focus æ¨£å¼ */
	.form-select {
		border-radius: 0;

		&:focus {
			/* é‚Šæ¡†é¡è‰² */
			border-color: var(--quote-text-color);
			/* å»æ‰é»é¸æ™‚çš„è—è‰²å…‰æšˆæ”¹æˆå…§é™°å½± */
			box-shadow: inset -2px -2px 4px var(--second-back-color-transluc);
		}
	}

	/* ç·¨è¼¯å€å¡Š */
	.edit-section {
		z-index: 100;
		padding-top: 10px;
		padding-bottom: 20px;
	}

	/* ç·¨è¼¯å€å¡Šï¼ç·¨è¼¯æ™‚ç™½è‰²é«˜äº® */
	.edit-section.editing {
		position: relative;
		z-index: 999;

		background-color: var(--back-color-white);
		box-shadow: 0 0 15px var(--second-back-color-transluc);

		font-family: none;
	}

	/* å¸³è™Ÿå¯†ç¢¼ */
	#accountSection.edit-section,
	#passwordSection.edit-section {
		margin-bottom: -20px;
	}

	/* å¸³è™Ÿå¯†ç¢¼ç·¨è¼¯ç‹€æ…‹å¢åŠ å·¦å³ç™½è‰²å€åŸŸ */
	#accountSection.edit-section.editing,
	#passwordSection.edit-section.editing {
		&::before {
			content: "";
			position: absolute;
			top: 0;
			bottom: 0;
			left: -40px;
			right: -40px;
			background-color: var(--back-color-white);
			box-shadow: 0 0 15px var(--second-back-color-transluc);
			z-index: -1;
		}
	}

	/* åœ°å€æ’ç‰ˆè¨­å®š */
	#address {

		/* éƒµéå€è™Ÿ */
		#zip {}

		/* ç¸£å¸‚ */
		#county {}

		/* å€/é„‰/é® */
		#district {}

		/* è¡—è·¯ */
		#street {}

		/* å··å¼„ */
		#lane {}

		/* é–€ç‰Œè™Ÿç¢¼ */
		#number {}
	}
}
</style>